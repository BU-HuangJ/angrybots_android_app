package adapters;

import android.app.Activity;
import android.content.SharedPreferences;

public class PersistentSettings {
	private class PreferenceActivity extends Activity {
		public static final String PREFS_NAME = "User_Preferences";
		private String email, password;
		
		protected void readPreferences() {
			SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
			this.email = settings.getString("email", "");
			this.password = settings.getString("password", "");
		}
		
		protected void savePreferences() {
			SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
			SharedPreferences.Editor editor = settings.edit();
			editor.putString("email", this.email);
			editor.putString("password", this.password);
			
			editor.commit();
		}

		public String getEmail() {
			return this.email;
		}

		public void setEmail(String email) {
			this.email = email;
		}

		public String getPassword() {
			return this.password;
		}

		public void setPassword(String password) {
			this.password = password;
		}
		
	}
	
	private static PreferenceActivity prefs = null;
	
	private PersistentSettings() {}
	
	private PreferenceActivity getPreferenceActivity() {
		if (PersistentSettings.prefs == null) {
			PersistentSettings.prefs = new PreferenceActivity();
			PersistentSettings.prefs.readPreferences();
		}
		return PersistentSettings.prefs;
	}
}
